version: 2

models:
  - name: stg_youtube__channel_basic
    description: Provides user activity statistics related to a channel and its videos
    columns:
      - name: _fivetran_id
        tests:
          - unique
          - not_null
      - name: _fivetran_id
        description: The unique ID of the record generated by Fivetran
      - name: date_day
        description: The date the video was viewed
      - name: _fivetran_synced
        description: Timestamp of when the record was synced by Fivetran
      - name: average_view_duration_percentage
        description: Average view duration calculated as a percentage
      - name: average_view_duration_seconds
        description: Average view duration calculated in seconds
      - name: channel_id
        description: Unique identifier of the video channel
      - name: comments
        description: Number of comments the posted towards the video
      - name: dislikes
        description: Number of dislikes the video received
      - name: likes
        description: Number of likes the video received
      - name: shares
        description: Number of times the video was shared
      - name: subscribers_gained
        description: Number of subscribers gained
      - name: subscribers_lost
        description: Number of subscribers lost
      - name: video_id
        description: Unique ID of the video
      - name: views
        description: Number of views the video received
      - name: watch_time_minutes
        description: Total watch time the video received in minutes

  - name: stg_youtube__channel_demographics
    description: Provides user activity statistics related to a channel and its videos
    columns:
      - name: _fivetran_id
        description: The unique ID of the record generated by Fivetran
        tests:
          - unique
          - not_null
      - name: date_day
        description: The date the video was viewed
      - name: video_id
        description: Unique ID of the video
      - name: _fivetran_synced
        description: Timestamp of when the record was synced by Fivetran
      - name: average_view_duration_percentage
        description: Average view duration calculated as a percentage
      - name: average_view_duration_seconds
        description: Average view duration calculated in seconds
      - name: channel_id
        description: Unique identifier of the video channel
      - name: comments
        description: Number of comments the posted towards the video
      - name: dislikes
        description: Number of dislikes the video received
      - name: likes
        description: Number of likes the video received
      - name: shares
        description: Number of times the video was shared
      - name: subscribers_gained
        description: Number of subscribers gained
      - name: subscribers_lost
        description: Number of subscribers lost
      - name: views
        description: Number of views the video received
      - name: watch_time_minutes
        description: Total watch time the video received in minutes

  - name: stg_youtube__video_metadata
    description: >
      Table containing individual video metadata. This table IS NOT synced by Fivetran. However, you may easily configure a Fivetran Cloud Function
      as shown in our [blog post](tbd) to sync your Youtube video metadata to a table in your warehouse and have this dbt package generate the video
      metadata table in this same schema which can then be used in downstream models.
    columns:
      - name: video_id
        description: The unique ID of the video
        tests:
          - unique
          - not_null
      - name: title
        description: The title of the video
      - name: description
        description: A description of the video
      - name: thumbnails
        description: JSON which contains the default, medium, and high quality thumbnail urls
      - name: channel_title
        description: The name of the channel which the video belongs
      - name: published_at
        description: Timestamp of when the video was published to Youtube
      - name: _fivetran_batch
        description: The batch which the record was synced
      - name: _fivetran_index
        description: The video sync record index
      - name: _fivetran_synced
        description: Timestamp of when the record was synced by Fivetran